const {
  GraphQLSchema,
  GraphQLObjectType,
  GraphQLNonNull
} = require('graphql');

const schema = new GraphQLSchema({
  query: new GraphQLObjectType({
    name: 'RootQueryType',
    fields: {
    <% queries.forEach(({ name, type, args, deprecationReason, description }) => { %>
      <%= name %>: {
        type: <%= type %>,
        <%_ if (args.length > 0) { _%>
        args: {
        <%_ args.forEach(({ name, type, default: defaultValue, description }) => { _%>
          <%= name %>: {
            type: <%= type %>, <%# TODO get real type %>
            <%_ if (defaultValue != null) { _%>
            defaultValue: <%= defaultValue %>,
            <%_ } _%>
            <%_ if (description != null) { _%>
            description: '<%= description %>',
            <%_ } _%>
          },
        <%_ }) _%>
        },
        <%_ } _%>
        <%_ if (deprecationReason != null) { _%>
          deprecationReason: '<%= deprecationReason %>',
        <%_ } _%>
        <%_ if (description != null) { _%>
          description: '<%= description %>',
        <%_ } _%>
      },
    <% }) %>
    }
  }),
});

module.exports = schema;